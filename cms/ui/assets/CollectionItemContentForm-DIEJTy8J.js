import{d as h,c,a as n,l,e as _,w as p,F as f,u as C,o as s,g as I,b as y,p as w,f as b,_ as v}from"./index-Ch-kkg_L.js";import{a as i}from"./api-DZsGxFFw.js";import{C as k}from"./ContentForm-DXp5Trpo.js";import{B}from"./Button-CC7H-t5C.js";const g=o=>(w("data-v-2a491217"),o=o(),b(),o),F={key:0,class:"field-group"},D=g(()=>n("p",null,"Unique API ID.",-1)),N=["value"],V=h({__name:"CollectionItemContentForm",props:{schema:{},item:{}},setup(o){const a=C(),e=o,d=async t=>{if(e.item)await i.updateCollectionItem(e.schema.name,e.item.id,t),location.reload();else{const r=await i.addCollectionItem(e.schema.name,t);await a.push(a.resolve({name:"collection-content"}).href+"/"+r.created_item_id),location.reload()}},u=async()=>{!e.item||!confirm(`Are you sure you want to delete the ${e.schema.singular_display_name} '${e.item.properties[e.schema.item_display_property]}'?`)||(await i.deleteCollectionItem(e.schema.name,e.item.id),await a.push({name:"collection-content"}),location.reload())};return(t,r)=>{var m;return s(),c(f,null,[t.item?(s(),c("div",F,[n("label",null,[D,n("input",{type:"number",placeholder:"Item ID",disabled:"",value:t.item.id},null,8,N)])])):l("",!0),_(k,{mode:t.item?"update":"create",properties:(m=t.item)==null?void 0:m.properties,"schema-properties":t.schema.properties,"on-submit":d},{actions:p(()=>[t.item?(s(),I(B,{key:0,type:"button",mode:"ghost","aria-label":"Delete",onClickPassive:u},{default:p(()=>[y(" Delete ")]),_:1})):l("",!0)]),_:1},8,["mode","properties","schema-properties"])],64)}}}),q=v(V,[["__scopeId","data-v-2a491217"]]);export{q as C};
