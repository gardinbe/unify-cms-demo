import{d as P,m as V,c as d,a as t,s as _,F as g,q as A,e as u,w as f,o as r,v as p,x as m,z as I,i as U,b as v,t as k,p as C,f as w,B,_ as F}from"./index-COE1sEld.js";import{F as N}from"./index.es-B-U5nsY0.js";import{B as y}from"./Button-e0VMjl-o.js";const h=l=>(C("data-v-37ece723"),l=l(),w(),l),D=h(()=>t("legend",null," Attributes ",-1)),T={class:"field-group"},$=h(()=>t("legend",null," Properties ",-1)),q={key:0,class:"secondary-text"},z=["onUpdate:modelValue"],L=["onUpdate:modelValue"],M=["onUpdate:modelValue"],O=B('<option value="" disabled selected data-v-37ece723>Type...</option><option value="small-text" data-v-37ece723>Small Text</option><option value="large-text" data-v-37ece723>Large Text</option><option value="number" data-v-37ece723>Number</option><option value="boolean" data-v-37ece723>Boolean</option>',5),j=[O],E=["onUpdate:modelValue"],R=["onClickPassive"],G={class:"form-actions"},H=P({__name:"SchemaForm",props:{mode:{},properties:{},onSubmit:{type:Function}},setup(l){const c=l,s=V(c.properties?Array.from(Object.entries(c.properties)).map(([o,n])=>({name:o,...n})):[]),b=()=>{s.push({name:"",display_name:"",description:"",type:""})},S=o=>{s.splice(s.indexOf(o),1)},x=async o=>{o.preventDefault();const n={};for(const e of s){if(!e.name||!e.display_name||!e.type){alert("An API identifier, display name and type must be set for all properties");return}const i=encodeURIComponent(e.name);if(n[i]){alert("Property API identifiers must be unique");return}n[i]={display_name:e.display_name,description:e.description||null,type:e.type}}await c.onSubmit(n)};return(o,n)=>(r(),d("form",{class:"schema-form",novalidate:"",onSubmit:x},[t("fieldset",null,[D,t("div",T,[_(o.$slots,"attributes",{},void 0,!0)])]),t("fieldset",null,[$,s.length===0?(r(),d("p",q," [No properties] ")):(r(!0),d(g,{key:1},A(s,(e,i)=>(r(),d("div",{key:i,class:"field-group field-group--horizontal"},[t("label",null,[p(t("input",{"onUpdate:modelValue":a=>e.name=a,type:"text",placeholder:"API identifier..."},null,8,z),[[m,e.name]])]),t("label",null,[p(t("input",{"onUpdate:modelValue":a=>e.display_name=a,type:"text",placeholder:"Display name..."},null,8,L),[[m,e.display_name]])]),t("label",null,[p(t("select",{"onUpdate:modelValue":a=>e.type=a},j,8,M),[[I,e.type]])]),t("label",null,[p(t("input",{"onUpdate:modelValue":a=>e.description=a,type:"text",placeholder:"Description..."},null,8,E),[[m,e.description]])]),t("button",{class:"delete-property",type:"button",onClickPassive:a=>S(e)},[u(U(N),{icon:"fa-solid fa-delete-left"})],40,R)]))),128))]),t("div",G,[u(y,{type:"submit",mode:"solid","aria-label":"Create schema"},{default:f(()=>[v(k(o.mode==="create"?"Create":"Save"),1)]),_:1}),_(o.$slots,"actions",{},void 0,!0),u(y,{type:"button",mode:"ghost","aria-label":"Add new property",onClickPassive:b},{default:f(()=>[v(" Add Property ")]),_:1})])],32))}}),W=F(H,[["__scopeId","data-v-37ece723"]]);export{W as S};
