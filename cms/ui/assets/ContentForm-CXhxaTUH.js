import{d as b,m as _,c as s,a as d,F as h,q as v,e as x,w as k,s as g,o as r,t as u,l as C,v as m,x as V,i as f,y as S,b as w,_ as B}from"./index-q1QOYiFT.js";import{B as F}from"./Button-BCmXpjPU.js";import{c as y}from"./capitalize-FaBkvBOh.js";const N=(a,e)=>{if(typeof e!="object"||e===null||Array.isArray(e))return!1;for(const[t,i]of Object.entries(e)){if(!(t in a))return!1;const c=a[t];if(!T(i,c.type))return!1}return!0},T=(a,e)=>{switch(e){case"small-text":case"large-text":return typeof a=="string";case"number":return typeof a=="number";case"boolean":return typeof a=="boolean"}},D={key:0,class:"secondary-text"},U={key:0},j=["onUpdate:modelValue","placeholder"],A=["onUpdate:modelValue","type","placeholder"],I={class:"form-actions"},M=b({__name:"ContentForm",props:{mode:{},schemaProperties:{},properties:{},onSubmit:{type:Function}},setup(a){const e=a,t=_(e.properties??{}),i=o=>{switch(o){case"small-text":return"text";case"large-text":return"textarea";case"number":return"number";case"boolean":return"checkbox"}},c=async o=>{if(o.preventDefault(),!N(e.schemaProperties,t)){alert("This value does not match the schema!");return}await e.onSubmit(t)};return(o,O)=>(r(),s("form",{class:"content-form",novalidate:"",onSubmit:c},[d("fieldset",null,[Object.keys(o.schemaProperties).length===0?(r(),s("p",D," [No properties] ")):(r(!0),s(h,{key:1},v(o.schemaProperties,(n,l)=>(r(),s("div",{key:l,class:"field-group"},[d("label",null,[n.description?(r(),s("p",U,u(n.description),1)):C("",!0),i(n.type)==="textarea"?m((r(),s("textarea",{key:1,"onUpdate:modelValue":p=>t[l]=p,placeholder:f(y)(n.display_name)+"..."},null,8,j)),[[V,t[l]]]):m((r(),s("input",{key:2,"onUpdate:modelValue":p=>t[l]=p,type:i(n.type),placeholder:f(y)(n.display_name)+"..."},null,8,A)),[[S,t[l]]])])]))),128))]),d("div",I,[x(F,{type:"submit",mode:"solid","aria-label":"Create"},{default:k(()=>[w(u(o.mode==="create"?"Create":"Save"),1)]),_:1}),g(o.$slots,"actions",{},void 0,!0)])],32))}}),L=B(M,[["__scopeId","data-v-afb8a84e"]]);export{L as C};
