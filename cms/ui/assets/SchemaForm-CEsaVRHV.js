import{d as P,m as V,c as d,a as t,s as _,F as g,q as A,e as m,w as f,o as r,v as p,x as u,z as I,i as U,b,t as k,p as C,f as w,B,_ as F}from"./index-BaCD--Hz.js";import{F as N}from"./index.es-SnqZ5juU.js";import{B as v}from"./Button-BDJSJXne.js";const y=l=>(C("data-v-77e491bc"),l=l(),w(),l),D=y(()=>t("legend",null," Attributes ",-1)),T={class:"field-group"},$=y(()=>t("legend",null," Properties ",-1)),q={key:0,class:"secondary-text"},L=["onUpdate:modelValue"],M=["onUpdate:modelValue"],O=["onUpdate:modelValue"],j=B('<option value="" disabled selected data-v-77e491bc>Type...</option><option value="small-text" data-v-77e491bc>Small Text</option><option value="large-text" data-v-77e491bc>Large Text</option><option value="number" data-v-77e491bc>Number</option><option value="boolean" data-v-77e491bc>Boolean</option>',5),z=[j],E=["onUpdate:modelValue"],R=["onClickPassive"],G={class:"form-actions"},H=P({__name:"SchemaForm",props:{mode:{},properties:{},onSubmit:{type:Function}},setup(l){const c=l,s=V(c.properties?Array.from(Object.entries(c.properties)).map(([o,n])=>({name:o,...n})):[]),h=()=>{s.push({name:"",display_name:"",description:"",type:""})},S=o=>{s.splice(s.indexOf(o),1)},x=async o=>{o.preventDefault();const n={};for(const e of s){if(!e.name||!e.display_name||!e.type){alert("An API identifier, display name and type must be set for all properties");return}const i=encodeURIComponent(e.name);if(n[i]){alert("Property API identifiers must be unique");return}n[i]={display_name:e.display_name,description:e.description||null,type:e.type}}await c.onSubmit(n)};return(o,n)=>(r(),d("form",{class:"schema-form",novalidate:"",onSubmit:x},[t("fieldset",null,[D,t("div",T,[_(o.$slots,"attributes",{},void 0,!0)])]),t("fieldset",null,[$,s.length===0?(r(),d("p",q," [No properties] ")):(r(!0),d(g,{key:1},A(s,(e,i)=>(r(),d("div",{key:i,class:"field-group"},[t("label",null,[p(t("input",{"onUpdate:modelValue":a=>e.name=a,type:"text",placeholder:"API identifier..."},null,8,L),[[u,e.name]])]),t("label",null,[p(t("input",{"onUpdate:modelValue":a=>e.display_name=a,type:"text",placeholder:"Display name..."},null,8,M),[[u,e.display_name]])]),t("label",null,[p(t("select",{"onUpdate:modelValue":a=>e.type=a},z,8,O),[[I,e.type]])]),t("label",null,[p(t("input",{"onUpdate:modelValue":a=>e.description=a,type:"text",placeholder:"Description..."},null,8,E),[[u,e.description]])]),t("button",{class:"delete-property",type:"button",onClickPassive:a=>S(e)},[m(U(N),{icon:"fa-solid fa-delete-left"})],40,R)]))),128))]),t("div",G,[m(v,{type:"submit",mode:"solid","aria-label":"Create schema"},{default:f(()=>[b(k(o.mode==="create"?"Create":"Save"),1)]),_:1}),_(o.$slots,"actions",{},void 0,!0),m(v,{type:"button",mode:"ghost","aria-label":"Add new property",onClickPassive:h},{default:f(()=>[b(" Add Property ")]),_:1})])],32))}}),W=F(H,[["__scopeId","data-v-77e491bc"]]);export{W as S};
