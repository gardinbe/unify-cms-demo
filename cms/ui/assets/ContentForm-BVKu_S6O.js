import{d as h,m as _,c as r,a as p,F as b,q as v,e as x,w as k,s as g,o as s,t as u,l as C,v as m,x as V,i as f,y as S,b as w,_ as B}from"./index-COE1sEld.js";import{B as F}from"./Button-e0VMjl-o.js";import{c as y}from"./capitalize-FaBkvBOh.js";const N=(a,e)=>{if(typeof e!="object"||Array.isArray(e))return!1;for(const[t,i]of Object.entries(e)){if(!(t in a))return!1;const c=a[t];if(!T(i,c.type))return!1}return!0},T=(a,e)=>{switch(e){case"small-text":case"large-text":return typeof a=="string";case"number":return typeof a=="number";case"boolean":return typeof a=="boolean"}},D={key:0,class:"secondary-text"},U={key:0},j=["onUpdate:modelValue","placeholder"],z=["onUpdate:modelValue","type","placeholder"],A={class:"form-actions"},I=h({__name:"ContentForm",props:{mode:{},schemaProperties:{},properties:{},onSubmit:{type:Function}},setup(a){const e=a,t=_(e.properties??{}),i=o=>{switch(o){case"small-text":return"text";case"large-text":return"textarea";case"number":return"number";case"boolean":return"checkbox"}},c=async o=>{if(o.preventDefault(),!N(e.schemaProperties,t)){alert("This value does not match the schema!");return}await e.onSubmit(t)};return(o,M)=>(s(),r("form",{class:"content-form",novalidate:"",onSubmit:c},[p("fieldset",null,[Object.keys(o.schemaProperties).length===0?(s(),r("p",D," [No properties] ")):(s(!0),r(b,{key:1},v(o.schemaProperties,(n,l)=>(s(),r("div",{key:l,class:"field-group field-group--horizontal"},[p("label",null,[n.description?(s(),r("p",U,u(n.description),1)):C("",!0),i(n.type)==="textarea"?m((s(),r("textarea",{key:1,"onUpdate:modelValue":d=>t[l]=d,placeholder:f(y)(n.display_name)+"..."},null,8,j)),[[V,t[l]]]):m((s(),r("input",{key:2,"onUpdate:modelValue":d=>t[l]=d,type:i(n.type),placeholder:f(y)(n.display_name)+"..."},null,8,z)),[[S,t[l]]])])]))),128))]),p("div",A,[x(F,{type:"submit",mode:"solid","aria-label":"Create"},{default:k(()=>[w(u(o.mode==="create"?"Create":"Save"),1)]),_:1}),g(o.$slots,"actions",{},void 0,!0)])],32))}}),L=B(I,[["__scopeId","data-v-edd0da66"]]);export{L as C};
